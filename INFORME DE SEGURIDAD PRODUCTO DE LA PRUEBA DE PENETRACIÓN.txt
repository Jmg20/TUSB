# INFORME DE SEGURIDAD PRODUCTO DE LA PRUEBA DE PENETRACIÓN
#### Autor del informe: Jose Manuel Gómez Benítez

## FASES DE LA PRUEBA DE PENETRACIÓN

Esta prueba de penetración busca ir accediendo de manera progresivamente al ordenador de prueba, obteniendo en el proceso la información sobre el sistema de seguridad informática que lo protege.

Para ello se utilizará, una plataforma conformada por una Raspberry Pi Zero W, con el sistema operativo Raspbian Lite, sobre el que se ha instalado el software libre *P4wnP1*.

Dicho proceso está conformado por un total de 3 fases:

1. **Desbloqueo del ordenador de prueba**. En esta fase, se intentará desbloquear el ordenador de prueba sin conocimiento previo sobre el usuario o la contraseña, esta última se averiguará en caso de que la prueba tenga existo.

2. **Acceso a las credenciales de navegación**. En este paso, se accederá al navegador predeterminado de Windows 10, Microsoft Edge, y se sustraerá todas las credenciales almacenadas en él. 

3. **Prueba de ejecución de un programa y traspaso del informe de seguridad**. Es este último paso se procederá a ejecutar una serie de comandos en Windows, para abrir el programa Notepad, y escribir en él, el presente informe.

### DESBLOQUEO DEL ORDENADOR DE PRUEBA 
#### Proceso realizado mediante el módulo *Windows 10 LockPicker*

En este paso, el dispositivo utilizado para la realización de la prueba se conectará a cualquiera de los múltiples puertos USB del ordenador de prueba; en caso de que se trate de un ordenador de sobremesa se priorizará buscar un puerto libre, al que conectar el dispositivo, en la parte trasera del ordenador, pues en dicha posición se puede ocultar con mayor facilidad el dispositivo. 
Una vez conectado el dispositivo, ese iniciará el proceso de desbloqueo del ordenador, dicho proceso llevará más o menos tiempo dependiendo de la fortaleza de la contraseña utilizada para bloquear el ordenador.

Este punto tiene por tanto una doble finalidad: 
- Acceder al ordenador para continuar con el resto de las fases.
- Comprobar si el usuario del ordenador utiliza contraseñas insuficientemente complejas.

### CAPTURA DE CREDENCIALES DEL NAVEGADOR
#### Proceso realizado mediante el módulo *Hakin9*

Esta fase busca comprobar si el usuario del ordenador de prueba accede de manera segura y teniendo en cuenta la importancia de guardar adecuadamente las diversas contraseñas y usuarios con los que acceder a los diversos sitios web.

Para la realización de esta prueba, se ha de modificar en primer lugar la configuración software de la plataforma de pentest, desde el ordenador de control, tras esto se reconecta la plataforma de nuevo.

Una vez se ha conectado el dispositivo al ordenador de prueba, se ejecuta el programa encargado de esta fase de la prueba, el cual toma los datos del navegador y los almacena en la tarjeta de memoria del dispositivo.

***Dichos datos serán eliminados tras la prueba, en base a la ley de protección de datos, UE 2016/679. ***

### PRUEBA DE EJECUCIÓN DE UN PROGRAMA Y TRANSPASO DEL INFORME DE SEGURIDAD
#### Proceso realizado mediante el módulo *hid_keyboard*

Esta última prueba, busca comprobar si el usuario del ordenador de prueba dispone de alguna contramedida que evite la ejecución de comandos que permitan controlar el ordenador de manera temporal de igual manera que el administrador del ordenador.

Para ello, se ejecutará un pequeño programa de prueba el cual abrirá un solo programa, Notepad, transcribirá de manera completa el presente informe y lo guardará en el escritorio del ordenador. 

## MEDIDAS QUE HAN DE SER TOMANDAS LOS RESULTADOS DE LA PRUEBA DE PENETRACIÓN

En este apartado se expondrán las diversas medidas de seguridad tanto físicas como informáticas, que se han de tomar para mejorar la seguridad del sistema informático objetivo de la prueba de penetración.

### MEDIDAS FÍSICAS

1. Bloqueo de todos los conectores USB, del ordenador; la forma más eficiente de realizar esta operación es introducir el ordenador al completo en un armario, de un material robusto, que disponga de:
 	- Rejillas de ventilación, que permita un óptimo flujo de aire, para evitar posibles problemas de ventilación
	- Salida de cableado de alimentación y periféricos, dicha salida no debe permitir el acceso físico a ningún conector del ordenador.
	- Botón de encendido externo.
2. Evitar la utilización de periféricos o cualquier dispositivo USB, no identificado, para realizar el proceso de identificación se recomienda disponer de un ordenador de bajo coste, por ejemplo, un miniordenador de 100€, con Windows 10 al que no se le ha agregado programa alguno, al que conectar los distintos dispositivos USB, por primera vez. 

### MEDIDAS SOFTWARE

1. Modificación de la contraseña utilizada, se recomienda utilizar una contraseña superior a 12 dígitos y la renovación de esta de manera periódica cada 1 o 3 meses. A la hora de crear dicha contraseña se ha de tener en cuenta una serie de cuestiones:
	1. No utilizar, nombres propios y/o fechas
	2. Crearla a partir de una frase o combinación de palabras, teniendo en cuenta que no deben ser ni frase conocidas ni palabras que hagan referencia a un elemento cultural conocido.
	3. Sustitución de letras por números de manera aleatoria
	4. Eliminación de vocales para modificar aún más la palabra inicial.
	5. Mezclar el orden de las sílabas una vez realizados los pasos anteriores.

2. Instalar un navegador distinto al predeterminado por el sistema operativo, algunos de los recomendados son Opera o Chrome.
2. Deshabilitar el guardado de cualquier tipo de contraseña en el navegador, es preferible memorizarlas, o en caso de que esto sea imposible guardarlas en una libreta que lleve el usuario consigo mismo; tampoco es recomendable el guardado de usuarios. 
3. Acceder al correo o sitios webs con información crítica desde el *modo incognito* del navegador, debido a que una vez finalizada la sesión se borran, del ordenador, todos los datos. En el caso de Opera o Chrome, se puede activar mediante el atajo de teclado CTRL + SHIFT DER + N.
4. Instalación de un software destinado a la detección y bloqueo de posibles ataques de *USB Rubber Ducky*, en este caso se recomienda Beamgun, el cual está disponible aquí: https://github.com/JLospinoso/beamgun.

Con la combinación de todas estas medidas se podrá mejorar la seguridad del sistema informativo, para evitar la mayoría de posibles ataques que exploten las vulnerabilidades del estándar USB.

Para más información visite:
https://github.com/Jmg20/TUSB/blob/master/INFORME%20DE%20SEGURIDAD%20PRODUCTO%20DE%20LA%20PRUEBA%20DE%20PENETRACI%C3%93N.txt

NOTA: El presente informe ha sido creado con el lenguaje de texto *Markdown*, si desea verlo más claramente puede copiar este texto en cualquier editor online de *Markdown*, como https://stackedit.io 

